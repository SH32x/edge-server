[platformio]
default_envs = native
description = Edge ML Inference Simulator

[env:native]
platform = native
framework = arduino
lib_deps =
    tensorflow/TensorFlow Lite Micro @ ^2.4.0
    bblanchon/ArduinoJson @ ^6.20.0

monitor_speed = 115200

; Windows-compatible build flags
build_flags = 
    -D SIMULATION_MODE=1
    -D DEBUG=1
    -D CLOCK_SPEED=240
    -D WINDOWS=1

; Set up model in a Windows-compatible way
board_build.embed_txtfiles =
    src/model.tflite

; Alternative ESP32 environment for actual hardware when needed
[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino
lib_deps =
    tensorflow/TensorFlow Lite Micro @ ^2.4.0
    bblanchon/ArduinoJson @ ^6.20.0
monitor_speed = 115200
build_flags = 
    -D DEBUG=1
    -D CLOCK_SPEED=240
board_build.embed_txtfiles =
    src/model.tflite